import{h as z}from"./IShi1APO.js";import{k,m as u,p as A,q as C,j as $,o as h,c as l,u as p,e as f,F as R,h as U,t as g}from"./BBzcnZ-k.js";import{u as B}from"./ie0jLNPh.js";function S(r,o,d){const[e={},c]=[{},o],t=k(()=>u(r)),s=e.key||z([c,typeof t.value=="string"?t.value:"",...M(e)]);if(!s||typeof s!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+s);const n=s===c?"$f"+s:s;if(!e.baseURL&&typeof t.value=="string"&&t.value[0]==="/"&&t.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:m,lazy:i,default:x,transform:D,pick:j,watch:y,immediate:E,getCachedData:q,deep:F,dedupe:L,...O}=e,b=A({...C,...O,cache:typeof e.cache=="boolean"?void 0:e.cache}),T={server:m,lazy:i,default:x,transform:D,pick:j,immediate:E,getCachedData:q,deep:F,dedupe:L,watch:y===!1?[]:[b,t,...y||[]]};let a;return B(n,()=>{var w;(w=a==null?void 0:a.abort)==null||w.call(a,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),a=typeof AbortController<"u"?new AbortController:{};const v=u(e.timeout);let _;return v&&(_=setTimeout(()=>a.abort(new DOMException("Request aborted due to timeout.","AbortError")),v),a.signal.onabort=()=>clearTimeout(_)),(e.$fetch||globalThis.$fetch)(t.value,{signal:a.signal,...b}).finally(()=>{clearTimeout(_)})},T)}function M(r){var d;const o=[((d=u(r.method))==null?void 0:d.toUpperCase())||"GET",u(r.baseURL)];for(const e of[r.params||r.query]){const c=u(e);if(!c)continue;const t={};for(const[s,n]of Object.entries(c))t[u(s)]=u(n);o.push(t)}return o}const V={class:"not-prose"},G={key:0},I={key:1},K={key:2},N={class:"grid grid-cols-1 gap-4"},P=["href"],X={class:"flex items-center justify-between text-sm"},H={class:"font-semibold"},J={class:"text-sm"},te={__name:"ProjectList",async setup(r){let o,d;const{error:e,pending:c,data:t}=([o,d]=$(()=>S("https://api.github.com/users/piotr-jura-udemy/repos","$hhCXzFajzm")),o=await o,d(),o),s=k(()=>t.value.filter(n=>n.description).sort((n,m)=>m.stargazers_count-n.stargazers_count));return(n,m)=>(h(),l("div",V,[p(c)?(h(),l("section",G,"Loading...")):p(e)?(h(),l("section",I,"Something went wrong... Try again!")):(h(),l("section",K,[f("ul",N,[(h(!0),l(R,null,U(p(s),i=>(h(),l("li",{key:i.id,class:"border border-gray-200 dark:border-gray-800 rounded-sm p-4 hover:bg-gray-200 dark:hover:bg-gray-800 font-mono"},[f("a",{href:i.html_url,target:"_blank"},[f("div",X,[f("div",H,g(i.name),1),f("div",null,g(i.stargazers_count)+" â˜…",1)]),f("p",J,g(i.description),1)],8,P)]))),128))])]))]))}};export{te as default};
